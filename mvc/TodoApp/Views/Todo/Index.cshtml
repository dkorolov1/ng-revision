@model List<TodoApp.Models.TodoItem>

<h2>To-Do List</h2>

<!-- Inline CSS to handle the layout -->
<style>
    .todo-item {
        align-items: center;
        margin-bottom: 10px;
    }
    .todo-item-desc {
        margin-right: 15px;
        flex-grow: 1;
    }
    .todo-item-buttons {
        display: inline-block;
        margin-left: 5px;
    }
</style>

<ul>
    @foreach (var item in Model)
    {
        <li class="todo-item">
            <span class="todo-item-desc">
                @if (item.IsCompleted)
                {
                    <strike>@item.Description</strike> @Html.Raw("âœ”")
                }
                else
                {
                    @item.Description
                }
            </span>

            <!-- Complete Button (only visible if todo-item is not completed) -->
            @if (!item.IsCompleted)
            {
                @using (Html.BeginForm("Complete", "Todo", FormMethod.Post, new { @class = "todo-item-buttons" }))
                {
                    @Html.Hidden("id", item.Id)
                    <button class="todo-item-button" type="submit">Complete</button>
                }
            }

            <!-- Delete Button -->
            @using (Html.BeginForm("Delete", "Todo", FormMethod.Post, new { @class = "todo-item-buttons" }))
            {
                @Html.Hidden("id", item.Id)
                <button
                    type="submit"
                    onclick="return confirm('Are you sure you want to delete this item?');">
                    Delete
                </button>
            }
        </li>
    }
</ul>

<p>
    @Html.ActionLink("Add New Item", "Create")
</p>